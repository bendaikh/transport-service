import{u as M,g as d,a as x,d as s,h as _,w as p,b as e,e as C,k as n,i as u,G as b,o as i,t as a,F as m,q as f,H as U,n as g,I as q,l as k,f as h}from"./app-CaNPnviA.js";import{_ as A}from"./AuthenticatedLayout-DtnmjEWD.js";const B={class:"flex items-center gap-4"},j={class:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-white"},z={class:"text-slate-500 dark:text-slate-400 text-sm mt-1"},T={class:"max-w-3xl"},I={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm overflow-hidden"},N={class:"p-6 space-y-6"},S={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},D={key:0,class:"text-red-500 text-sm mt-1"},F=["value"],H={key:0,class:"text-red-500 text-sm mt-1"},E={key:0,class:"text-red-500 text-sm mt-1"},L={key:0,class:"text-red-500 text-sm mt-1"},$={key:0,class:"text-red-500 text-sm mt-1"},G={key:0,class:"text-red-500 text-sm mt-1"},O={class:"sm:col-span-2"},R={class:"grid grid-cols-2 sm:grid-cols-4 gap-3"},J=["onUpdate:modelValue","value"],K={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm overflow-hidden"},P={class:"p-6"},Q={class:"flex items-center justify-end gap-4"},W=["disabled"],X={key:0,class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},ee={__name:"Edit",props:{vehicle:Object},setup(c){const o=c,r=M({registration:o.vehicle.registration,brand:o.vehicle.brand,model:o.vehicle.model,capacity:o.vehicle.capacity,service_date:o.vehicle.service_date?o.vehicle.service_date.split("T")[0]:"",status:o.vehicle.status,type:o.vehicle.type,description:o.vehicle.description||""}),y=()=>{r.put(route("vehicles.update",o.vehicle.id))},w=["Bus","Van","Camion","Minibus","Voiture","Autre"];return(v,t)=>(i(),d(m,null,[x(s(_),{title:`Modifier ${c.vehicle.registration}`},null,8,["title"]),x(A,null,{header:p(()=>[e("div",B,[x(s(k),{href:v.route("vehicles.index"),class:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition"},{default:p(()=>[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5 text-slate-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1},8,["href"]),e("div",null,[e("h2",j," Modifier: "+a(c.vehicle.registration),1),e("p",z,a(c.vehicle.brand)+" "+a(c.vehicle.model),1)])])]),default:p(()=>[e("div",T,[e("form",{onSubmit:C(y,["prevent"]),class:"space-y-6"},[e("div",I,[t[16]||(t[16]=e("div",{class:"p-6 border-b border-slate-200 dark:border-slate-700"},[e("h3",{class:"text-lg font-bold text-slate-800 dark:text-white"},"Informations de Base"),e("p",{class:"text-slate-500 dark:text-slate-400 text-sm mt-1"},"Modifiez les informations du véhicule.")],-1)),e("div",N,[e("div",S,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2"},"Immatriculation *",-1)),n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s(r).registration=l),type:"text",placeholder:"ex: 12345-A-67",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",required:""},null,512),[[b,s(r).registration]]),s(r).errors.registration?(i(),d("p",D,a(s(r).errors.registration),1)):u("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2"},"Type de véhicule *",-1)),n(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>s(r).type=l),class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",required:""},[t[9]||(t[9]=e("option",{value:""},"Sélectionner un type",-1)),(i(),d(m,null,f(w,l=>e("option",{key:l,value:l},a(l),9,F)),64))],512),[[U,s(r).type]]),s(r).errors.type?(i(),d("p",H,a(s(r).errors.type),1)):u("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2"},"Marque *",-1)),n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s(r).brand=l),type:"text",placeholder:"ex: Mercedes, Toyota...",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",required:""},null,512),[[b,s(r).brand]]),s(r).errors.brand?(i(),d("p",E,a(s(r).errors.brand),1)):u("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2"},"Modèle *",-1)),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s(r).model=l),type:"text",placeholder:"ex: Sprinter, Hiace...",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",required:""},null,512),[[b,s(r).model]]),s(r).errors.model?(i(),d("p",L,a(s(r).errors.model),1)):u("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2"},"Capacité (places) *",-1)),n(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s(r).capacity=l),type:"number",min:"1",placeholder:"ex: 50",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",required:""},null,512),[[b,s(r).capacity]]),s(r).errors.capacity?(i(),d("p",$,a(s(r).errors.capacity),1)):u("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2"},"Date mise en service *",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>s(r).service_date=l),type:"date",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",required:""},null,512),[[b,s(r).service_date]]),s(r).errors.service_date?(i(),d("p",G,a(s(r).errors.service_date),1)):u("",!0)]),e("div",O,[t[15]||(t[15]=e("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2"},"État",-1)),e("div",R,[(i(),d(m,null,f([{value:"active",label:"Actif",color:"border-green-500 bg-green-50 dark:bg-green-900/20"},{value:"inactive",label:"Inactif",color:"border-slate-500 bg-slate-50 dark:bg-slate-700"},{value:"maintenance",label:"Maintenance",color:"border-amber-500 bg-amber-50 dark:bg-amber-900/20"},{value:"rented",label:"Loué",color:"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}],l=>e("label",{key:l.value,class:g(["flex items-center justify-center px-4 py-3 rounded-xl border-2 cursor-pointer transition",s(r).status===l.value?l.color:"border-slate-200 dark:border-slate-600 hover:border-slate-300"])},[n(e("input",{type:"radio","onUpdate:modelValue":V=>s(r).status=V,value:l.value,class:"sr-only"},null,8,J),[[q,s(r).status]]),e("span",{class:g(["text-sm font-medium",s(r).status===l.value?"text-slate-800 dark:text-white":"text-slate-500 dark:text-slate-400"])},a(l.label),3)],2)),64))])])])])]),e("div",K,[t[18]||(t[18]=e("div",{class:"p-6 border-b border-slate-200 dark:border-slate-700"},[e("h3",{class:"text-lg font-bold text-slate-800 dark:text-white"},"Informations Additionnelles")],-1)),e("div",P,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2"},"Description / Notes",-1)),n(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=l=>s(r).description=l),rows:"4",placeholder:"Ajoutez des notes ou une description pour ce véhicule...",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition resize-none"},null,512),[[b,s(r).description]])])])]),e("div",Q,[x(s(k),{href:v.route("vehicles.index"),class:"px-6 py-2.5 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white font-medium transition"},{default:p(()=>[...t[19]||(t[19]=[h(" Annuler ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(r).processing,class:"px-8 py-2.5 bg-amber-500 hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl font-semibold shadow-lg shadow-amber-500/30 transition flex items-center gap-2"},[s(r).processing?(i(),d("svg",X,[...t[20]||(t[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):u("",!0),t[21]||(t[21]=h(" Mettre à jour ",-1))],8,W)])],32)])]),_:1})],64))}};export{ee as default};
